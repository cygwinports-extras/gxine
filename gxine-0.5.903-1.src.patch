diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x version.h -x misc origsrc/gxine-0.5.903/browser-plugin/Makefile.am src/gxine-0.5.903/browser-plugin/Makefile.am
--- origsrc/gxine-0.5.903/browser-plugin/Makefile.am	2007-05-24 13:17:28.000000000 -0500
+++ src/gxine-0.5.903/browser-plugin/Makefile.am	2008-06-12 22:52:21.875000000 -0500
@@ -21,7 +21,7 @@
 noinst_HEADERS = $(plugin_headers)
 
 gxineplugin_la_SOURCES = $(plugin_source)
-gxineplugin_la_LDFLAGS = -avoid-version -module
+gxineplugin_la_LDFLAGS = -avoid-version -module -no-undefined
 gxineplugin_la_LIBADD  = -lm $(X_LIBS) $(X_EXTRA_LIBS) -lX11 -lXt -lXaw $(DYNAMIC_LD_LIBS)
 
 debug: CFLAGS=$(DEBUG_CFLAGS)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x version.h -x misc origsrc/gxine-0.5.903/configure.ac src/gxine-0.5.903/configure.ac
--- origsrc/gxine-0.5.903/configure.ac	2008-04-25 16:36:08.000000000 -0500
+++ src/gxine-0.5.903/configure.ac	2008-06-12 23:06:11.156250000 -0500
@@ -324,8 +324,8 @@
 AC_SUBST(CPPFLAGS)
 AC_SUBST(LDFLAGS)
 
-HAVE_MPEG="`test -f "$xine_plugin_dir/xineplug_dmx_mpeg_elem.$acl_cv_shlibext" && echo yes || echo no`"
-HAVE_IMAGE="`test -f "$xine_plugin_dir/xineplug_dmx_image.$acl_cv_shlibext" && echo yes || echo no`"
+HAVE_MPEG="`test -f "$xine_plugin_dir/xineplug_dmx_mpeg_elem$shrext_cmds" && echo yes || echo no`"
+HAVE_IMAGE="`test -f "$xine_plugin_dir/xineplug_dmx_image$shrext_cmds" && echo yes || echo no`"
 
 AC_MSG_CHECKING([which logo format to use])
 echo "$as_me:$LINENO: xine plugin directory: $xine_plugin_dir" >&5
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x version.h -x misc origsrc/gxine-0.5.903/src/desktop_integration.c src/gxine-0.5.903/src/desktop_integration.c
--- origsrc/gxine-0.5.903/src/desktop_integration.c	2008-05-23 13:42:20.000000000 -0500
+++ src/gxine-0.5.903/src/desktop_integration.c	2008-06-12 22:52:21.890625000 -0500
@@ -37,12 +37,18 @@
 #include <sys/stat.h>
 #include <unistd.h>
 #include <errno.h>
+#include <gmodule.h>
 
 #include "desktop_integration.h"
 #include "utils.h"
 
+#ifdef __CYGWIN__
+#define LIBGNOMEVFS "cyggnomevfs-2-0.dll"
+#define LIBGNOMEUI  "cyggnomeui-2-0.dll"
+#else
 #define LIBGNOMEVFS "libgnomevfs-2.so.0"
 #define LIBGNOMEUI  "libgnomeui-2.so.0"
+#endif
 
 typedef enum { GNOME_VFS_OK } GnomeVFSResult; /* incomplete */
 
@@ -494,7 +500,7 @@
 
   section = "Mozilla";
 
-  sname = g_build_filename (plugindir, "gxineplugin.so", NULL);
+  sname = g_build_filename (plugindir, "gxineplugin."G_MODULE_SUFFIX, NULL);
   if (stat (sname, &st))
     return;
 
@@ -511,7 +517,7 @@
     }
     g_free (fname);
 
-    fname = g_build_filename (g_get_home_dir(), dir[i], "plugins/gxineplugin.so", NULL);
+    fname = g_build_filename (g_get_home_dir(), dir[i], "plugins/gxineplugin."G_MODULE_SUFFIX, NULL);
     buf[0] = 0;
 
     /* If the destination object exists, check if it's a symlink and if it's
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x version.h -x misc origsrc/gxine-0.5.903/src/wizards.c src/gxine-0.5.903/src/wizards.c
--- origsrc/gxine-0.5.903/src/wizards.c	2008-06-11 19:35:50.000000000 -0500
+++ src/gxine-0.5.903/src/wizards.c	2008-06-12 22:52:21.921875000 -0500
@@ -32,6 +32,7 @@
 #include <gtk/gtk.h>
 #include <gdk/gdk.h>
 #include <glib.h>
+#include <gmodule.h>
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
@@ -227,7 +228,7 @@
 
   cb.mailcap = new_toggle (vb, "~_/.mailcap", TRUE);
 
-  sname = g_build_filename (plugindir, "gxineplugin.so", NULL);
+  sname = g_build_filename (plugindir, "gxineplugin."G_MODULE_SUFFIX, NULL);
   cb.moz = new_toggle (vb, _("_Mozilla & Mozilla Firefox (plugin)"), !stat (sname, &st));
   g_free (sname);
 
